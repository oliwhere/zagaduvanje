
<h1>Donate To Our Cause</h1>
<h2>Save Our Country</h2>
<div class="col-xl-12 d-flex justify-content-around">
  <div class="card col-xl-5">
    <div class="card-body">
      <form class="form-horizontal"
            autocomplete="off"
            [formGroup]="donateValidationForm"
            (ngSubmit)="openDonationConfirmationDialog()">
        <div class="form-group mb-0">
          <label class="col-form-label form-group-title font-color font-size-15">
            Name
          </label>
          <input formControlName="name"
                 type="text"
                 style="text-transform:lowercase"
                 placeholder="Enter name"
                 class="form-control mb-2">
          <app-control-messages
            [control]="donateValidationForm?.get('name')">
          </app-control-messages>
        </div>
        <div class="form-group mb-0">
          <label class="col-form-label form-group-title font-color font-size-15">
            Surname
          </label>
          <input formControlName="surname"
                 type="text"
                 style="text-transform:lowercase"
                 placeholder="Enter surname"
                 class="form-control mb-2">
          <app-control-messages
            [control]="donateValidationForm?.get('surname')">
          </app-control-messages>
        </div>
        <div class="form-group mb-0">
          <label class="col-form-label form-group-title font-color font-size-15">
            Amount
          </label>
          <input formControlName="amount"
                 type="number"
                 style="text-transform:lowercase"
                 placeholder="Enter amount"
                 class="form-control mb-2">
          <app-control-messages
            [control]="donateValidationForm?.get('amount')">
          </app-control-messages>
        </div>
        <div class="form-group mb-0">
          <label class="col-form-label form-group-title font-color font-size-15">
            Email
          </label>
          <input formControlName="email"
                 type="email"
                 style="text-transform:lowercase"
                 placeholder="Enter email"
                 class="form-control mb-2">
          <app-control-messages
            [control]="donateValidationForm?.get('email')">
          </app-control-messages>
        </div>


        <div class="mt-4">
          <button class="btn btn-primary "
                  [disabled]="donateValidationForm.invalid"
                  type="submit" id="submit">Donate
          </button>
          <button
            class="btn btn-light "
            (click)="resetForm()"
            type="button">
            Reset
          </button>
        </div>

      </form>
    </div>
  </div>
  <div class="card col-xl-5">
    <div class="card-body">
      <table class="table">
        <thead>
        <tr>
          <th scope="col">#</th>
          <th scope="col">Name</th>
          <th scope="col">Surname</th>
          <th scope="col">Email</th>
          <th scope="col">Amount</th>
          <th></th>
        </tr>
        </thead>
        <tbody>
        <tr *ngIf="!activeDonations || activeDonations.length === 0">
          <th scope="row"> No donations at the moment. </th>
        </tr>
        <tr *ngFor="let donation of activeDonations; let i = index;">
          <th scope="row">{{i + 1}}</th>
          <td>{{donateService.uppercaseFirstLetter(donation.name)}}</td>
          <td>{{donateService.uppercaseFirstLetter(donation.surname)}}</td>
          <td>{{donation.email}}</td>
          <td>{{donation.amount}} denari</td>
          <td (click)="removeDonation(i)">
            <button class="btn btn-primary remove-donation-btn">
              Remove
            </button>
          </td>
        </tr>
        <tr>
          <th scope="row">Total donated amount: {{getTotalDonatedAmount()}}</th>
        </tr>
        </tbody>
      </table>
    </div>
  </div>
</div>
